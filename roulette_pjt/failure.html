<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>You Win</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div id="container">
      <header class="intro">
        <h1 class="intro_title" lang="en" aria-label="You Win"></h1>
        <div class="intro_button" aria-hidden="true"></div>
      </header>
    </div>
    <script>
      "use strict";

      //set the location of scroll so that it does not go back to the original position
      if (history.scrollRestoration) {
        window.history.scrollRestoration = "manual";
      }

      const introTitle = document.getElementsByClassName("intro_title")[0];
      const goMainBtn = document.getElementsByClassName("intro_button")[0];
      const money = localStorage.getItem("money");

      //title text
      const title = `You Lost!\n Your money is CAD ${money}`;

      let count = 0;
      let timer = 0;

      function typingIntroTitle() {
        let character = title[count++];
        if (character === "\n") {
          introTitle.innerHTML = introTitle.innerHTML + "<br/>";
        } else {
          introTitle.innerHTML = introTitle.innerHTML + character;
        }

        if (count === title.length) {
          clearInterval(timer);
          return;
        }
      }

      goMainBtn.addEventListener("click", () => {
        window.location.href = "./games.html";
      });

      window.onload = function () {
        timer = setInterval(typingIntroTitle, 200);
      };
    </script>
  </body>
</html>
